Configuration file grammar:
//regex which replace literal values used are represented by the following:
decklist: decklist:
card_name: "[^" + SEMI_COLON + CONDITION_HAND_CARD_END + CONDITION_FIELD_CARD + CONDITION_GY_CARD + CONDITION_BANISH_CARD + ASSIGN + "]+"
scenarios: scenarios:
scenario_name: "[^" + ASSIGN + CONDITION_SCENARIO_END + "]+"
assign: =
special_ability: special_ability
special_abilities: special_abilities:
Upper case: not, and, or, xor, draw, mill, banish, reasoning, combinatoric
Lower case: display, true, false, uses
single symbol are exactly the same. Text version is just for https://smlweb.cpsc.ucalgary.ca.
id: "[^\n" + SEMI_COLON + ASSIGN + SENTINEL_START + SENTINEL_END + CONDITION_HAND_CARD_START + CONDITION_HAND_CARD_END +
    CONDITION_SCENARIO_START + CONDITION_SCENARIO_END + CONDITION_EXPR_START + CONDITION_EXPR_END + 
    CONDITION_FIELD_CARD + CONDITION_GY_CARD + CONDITION_BANISH_CARD + "]+"
non_negative_integer: [0-9]+

//Numbers are gathered together as a single literal value. They also mean that other tokens may not start with numbers.
//lower case for literal, capital for production rule.
//Note grammar does not have the unification resulting in: ID, card_name, or scenario_name; though is coded with the result.
//Non-Negative Integer for: draw, mill, and banish.
//Non-Negative Integer for COMBINATORIC_BODY is expected to be >= 2.
START -> DECK SPECIAL_ABILITIES PROBABILITY .

DECK -> DECK_START SENTINEL_START DECKLIST SENTINEL_END.
DECK_START -> decklist: .
DECKLIST -> CARD MORE_CARDS .
MORE_CARDS -> CARD MORE_CARDS | .
CARD -> CARD_NAME SEMI_COLON .
CARD_NAME -> id .

SPECIAL_ABILITIES -> SPECIAL_ABILITY_START SENTINEL_START SPECIAL_ABILITY_LIST SENTINEL_END | .
SPECIAL_ABILITY_START -> special_abilities: .
SPECIAL_ABILITY_LIST -> SPECIAL_ABILITY MORE_SPECIAL_ABILITIES .
MORE_SPECIAL_ABILITIES -> SPECIAL_ABILITY MORE_SPECIAL_ABILITIES | .
SPECIAL_ABILITY -> CARD_NAME ASSIGN SENTINEL_START SPECIAL_ABILITY_BODY ACTIVATION_LIMITATION SENTINEL_END .

SPECIAL_ABILITY_BODY -> SPECIAL_ABILITY_BODY_START ASSIGN SENTINEL_START SPECIAL_ABILITY_EXPR_LIST SENTINEL_END SEMI_COLON .
SPECIAL_ABILITY_BODY_START -> special_ability .
SPECIAL_ABILITY_EXPR_LIST -> SPECIAL_ABILITY_EXPR MORE_SPECIAL_ABILITY_EXPRS .
MORE_SPECIAL_ABILITY_EXPRS -> SPECIAL_ABILITY_EXPR MORE_SPECIAL_ABILITY_EXPRS | .
SPECIAL_ABILITY_EXPR -> SPECIAL_ABILITY_ACTION SEMI_COLON .
SPECIAL_ABILITY_ACTION -> DRAW | MILL | REASONING | BANISH .

DRAW -> draw NON_NEGATIVE_INTEGER .
MILL -> mill NON_NEGATIVE_INTEGER .
BANISH -> banish NON_NEGATIVE_INTEGER .
REASONING -> reasoning SENTINEL_START DECKLIST SENTINEL_END .

ACTIVATION_LIMITATION -> ACTIVATION_LIMITATION_START ASSIGN NON_NEGATIVE_INTEGER SEMI_COLON | .
ACTIVATION_LIMITATION_START -> uses .

PROBABILITY -> PROBABILITY_START SENTINEL_START SCENARIO_LIST SENTINEL_END .
PROBABILITY_START -> scenarios: .
SCENARIO_LIST -> SCENARIO MORE_SCENARIOS .
MORE_SCENARIOS -> SCENARIO MORE_SCENARIOS | .
SCENARIO -> SCENARIO_NAME ASSIGN SENTINEL_START TREE DISPLAY SENTINEL_END .
SCENARIO_NAME -> id .

TREE -> TREE_START ASSIGN SENTINEL_START EXPR SENTINEL_END SEMI_COLON .
TREE_START -> scenario .

EXPR -> UNARY_EXPR BINARY_EXPR .

UNARY_EXPR -> UNARY_OPERATOR UNARY_EXPR | PRIMARY_EXPR | COMBINATORIC_EXPR .
UNARY_OPERATOR -> not .

COMBINATORIC_EXPR -> COMBINATORIC_OPERATOR SENTINEL_START COMBINATORIC_BODY SENTINEL_END .
COMBINATORIC_OPERATOR -> combinatoric .
COMBINATORIC_BODY -> NON_NEGATIVE_INTEGER EXPR SEMI_COLON EXPR SEMI_COLON EXPR SEMI_COLON EXPR SEMI_COLON MORE_CHOICES .
MORE_CHOICES -> EXPR SEMI_COLON MORE_CHOICES | .

NON_NEGATIVE_INTEGER -> non_negative_integer .

PRIMARY_EXPR -> CONDITION_HAND_CARD_START CARD_NAME CONDITION_HAND_CARD_END |
                CONDITION_FIELD_CARD CARD_NAME CONDITION_FIELD_CARD |
                CONDITION_GY_CARD CARD_NAME CONDITION_GY_CARD |
                CONDITION_BANISH_CARD CARD_NAME CONDITION_BANISH_CARD |
                CONDITION_SCENARIO_START SCENARIO_NAME CONDITION_SCENARIO_END |
                CONDITION_EXPR_START EXPR CONDITION_EXPR_END .

CONDITION_HAND_CARD_START -> open_bracket .
CONDITION_HAND_CARD_END -> close_bracket .
CONDITION_SCENARIO_START -> less_then .
CONDITION_SCENARIO_END -> greater_then .
CONDITION_EXPR_START -> open_parenthesis .
CONDITION_EXPR_END -> close_parenthesis .
CONDITION_FIELD_CARD -> * .
CONDITION_GY_CARD -> # .
CONDITION_BANISH_CARD -> ~ .

BINARY_EXPR -> BINARY_OPERATOR UNARY_EXPR BINARY_EXPR | .
BINARY_OPERATOR -> and | or | xor .

DISPLAY -> DISPLAY_START ASSIGN DISPLAY_VALUE SEMI_COLON | .
DISPLAY_START -> display .
DISPLAY_VALUE -> true | false .

SENTINEL_START -> open_brace .
SENTINEL_END -> close_brace .
ASSIGN -> assign .
SEMI_COLON -> ; .

https://smlweb.cpsc.ucalgary.ca/vital-stats.php?grammar=START+-%3E+DECK+SPECIAL_ABILITIES+PROBABILITY+.%0D%0A%0D%0ADECK+-%3E+DECK_START+SENTINEL_START+DECKLIST+SENTINEL_END.%0D%0ADECK_START+-%3E+decklist%3A+.%0D%0ADECKLIST+-%3E+CARD+MORE_CARDS+.%0D%0AMORE_CARDS+-%3E+CARD+MORE_CARDS+%7C+.%0D%0ACARD+-%3E+CARD_NAME+SEMI_COLON+.%0D%0ACARD_NAME+-%3E+id+.%0D%0A%0D%0ASPECIAL_ABILITIES+-%3E+SPECIAL_ABILITY_START+SENTINEL_START+SPECIAL_ABILITY_LIST+SENTINEL_END+%7C+.%0D%0ASPECIAL_ABILITY_START+-%3E+special_abilities%3A+.%0D%0ASPECIAL_ABILITY_LIST+-%3E+SPECIAL_ABILITY+MORE_SPECIAL_ABILITIES+.%0D%0AMORE_SPECIAL_ABILITIES+-%3E+SPECIAL_ABILITY+MORE_SPECIAL_ABILITIES+%7C+.%0D%0ASPECIAL_ABILITY+-%3E+CARD_NAME+ASSIGN+SENTINEL_START+SPECIAL_ABILITY_BODY+ACTIVATION_LIMITATION+SENTINEL_END+.%0D%0A%0D%0ASPECIAL_ABILITY_BODY+-%3E+SPECIAL_ABILITY_BODY_START+ASSIGN+SENTINEL_START+SPECIAL_ABILITY_EXPR_LIST+SENTINEL_END+SEMI_COLON+.%0D%0ASPECIAL_ABILITY_BODY_START+-%3E+special_ability+.%0D%0ASPECIAL_ABILITY_EXPR_LIST+-%3E+SPECIAL_ABILITY_EXPR+MORE_SPECIAL_ABILITY_EXPRS+.%0D%0AMORE_SPECIAL_ABILITY_EXPRS+-%3E+SPECIAL_ABILITY_EXPR+MORE_SPECIAL_ABILITY_EXPRS+%7C+.%0D%0ASPECIAL_ABILITY_EXPR+-%3E+SPECIAL_ABILITY_ACTION+SEMI_COLON+.%0D%0ASPECIAL_ABILITY_ACTION+-%3E+DRAW+%7C+MILL+%7C+REASONING+%7C+BANISH+.%0D%0A%0D%0ADRAW+-%3E+draw+NON_NEGATIVE_INTEGER+.%0D%0AMILL+-%3E+mill+NON_NEGATIVE_INTEGER+.%0D%0ABANISH+-%3E+banish+NON_NEGATIVE_INTEGER+.%0D%0AREASONING+-%3E+reasoning+SENTINEL_START+DECKLIST+SENTINEL_END+.%0D%0A%0D%0AACTIVATION_LIMITATION+-%3E+ACTIVATION_LIMITATION_START+ASSIGN+NON_NEGATIVE_INTEGER+SEMI_COLON+%7C+.%0D%0AACTIVATION_LIMITATION_START+-%3E+uses+.%0D%0A%0D%0APROBABILITY+-%3E+PROBABILITY_START+SENTINEL_START+SCENARIO_LIST+SENTINEL_END+.%0D%0APROBABILITY_START+-%3E+scenarios%3A+.%0D%0ASCENARIO_LIST+-%3E+SCENARIO+MORE_SCENARIOS+.%0D%0AMORE_SCENARIOS+-%3E+SCENARIO+MORE_SCENARIOS+%7C+.%0D%0ASCENARIO+-%3E+SCENARIO_NAME+ASSIGN+SENTINEL_START+TREE+DISPLAY+SENTINEL_END+.%0D%0ASCENARIO_NAME+-%3E+id+.%0D%0A%0D%0ATREE+-%3E+TREE_START+ASSIGN+SENTINEL_START+EXPR+SENTINEL_END+SEMI_COLON+.%0D%0ATREE_START+-%3E+scenario+.%0D%0A%0D%0AEXPR+-%3E+UNARY_EXPR+BINARY_EXPR+.%0D%0A%0D%0AUNARY_EXPR+-%3E+UNARY_OPERATOR+UNARY_EXPR+%7C+PRIMARY_EXPR+%7C+COMBINATORIC_EXPR+.%0D%0AUNARY_OPERATOR+-%3E+not+.%0D%0A%0D%0ACOMBINATORIC_EXPR+-%3E+COMBINATORIC_OPERATOR+SENTINEL_START+COMBINATORIC_BODY+SENTINEL_END+.%0D%0ACOMBINATORIC_OPERATOR+-%3E+combinatoric+.%0D%0ACOMBINATORIC_BODY+-%3E+NON_NEGATIVE_INTEGER+SEMI_COLON+EXPR+SEMI_COLON+EXPR+SEMI_COLON+EXPR+SEMI_COLON+MORE_CHOICES+.%0D%0AMORE_CHOICES+-%3E+EXPR+SEMI_COLON+MORE_CHOICES+%7C+.%0D%0A%0D%0ANON_NEGATIVE_INTEGER+-%3E+non_negative_integer+.%0D%0A%0D%0APRIMARY_EXPR+-%3E+CONDITION_HAND_CARD_START+CARD_NAME+CONDITION_HAND_CARD_END+%7C%0D%0A++++++++++++++++CONDITION_FIELD_CARD+CARD_NAME+CONDITION_FIELD_CARD+%7C%0D%0A++++++++++++++++CONDITION_GY_CARD+CARD_NAME+CONDITION_GY_CARD+%7C%0D%0A++++++++++++++++CONDITION_BANISH_CARD+CARD_NAME+CONDITION_BANISH_CARD+%7C%0D%0A++++++++++++++++CONDITION_SCENARIO_START+SCENARIO_NAME+CONDITION_SCENARIO_END+%7C%0D%0A++++++++++++++++CONDITION_EXPR_START+EXPR+CONDITION_EXPR_END+.%0D%0A%0D%0ACONDITION_HAND_CARD_START+-%3E+open_bracket+.%0D%0ACONDITION_HAND_CARD_END+-%3E+close_bracket+.%0D%0ACONDITION_SCENARIO_START+-%3E+less_then+.%0D%0ACONDITION_SCENARIO_END+-%3E+greater_then+.%0D%0ACONDITION_EXPR_START+-%3E+open_parenthesis+.%0D%0ACONDITION_EXPR_END+-%3E+close_parenthesis+.%0D%0ACONDITION_FIELD_CARD+-%3E+*+.%0D%0ACONDITION_GY_CARD+-%3E+%23+.%0D%0ACONDITION_BANISH_CARD+-%3E+%7E+.%0D%0A%0D%0ABINARY_EXPR+-%3E+BINARY_OPERATOR+UNARY_EXPR+BINARY_EXPR+%7C+.%0D%0ABINARY_OPERATOR+-%3E+and+%7C+or+%7C+xor+.%0D%0A%0D%0ADISPLAY+-%3E+DISPLAY_START+ASSIGN+DISPLAY_VALUE+SEMI_COLON+%7C+.%0D%0ADISPLAY_START+-%3E+display+.%0D%0ADISPLAY_VALUE+-%3E+true+%7C+false+.%0D%0A%0D%0ASENTINEL_START+-%3E+open_brace+.%0D%0ASENTINEL_END+-%3E+close_brace+.%0D%0AASSIGN+-%3E+assign+.%0D%0ASEMI_COLON+-%3E+%3B+.
