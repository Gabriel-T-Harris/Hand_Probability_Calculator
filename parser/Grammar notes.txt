Configuration file grammar:
//regex which replace literal values used are represented by the following:
decklist: decklist:
card_name: "[^" + SEMI_COLON + CONDITION_CARD_END + CONDITION_FIELD + CONDITION_GY + CONDITION_BANISH + ASSIGN + "]+"
scenarios: scenarios:
scenario_name: "[^" + ASSIGN + CONDITION_SCENARIO_END + "]+"
display: display
Upper case: not, and, or, xor, draw, mill, banish, reasoning
Lower case: true, false
single symbol are exactly the same. Text version is just for https://smlweb.cpsc.ucalgary.ca.
id: "[^\n" + SEMI_COLON + ASSIGN + SENTINEL_START + SENTINEL_END + CONDITION_CARD_START + CONDITION_CARD_END +
    CONDITION_SCENARIO_START + CONDITION_SCENARIO_END + CONDITION_EXPR_START + CONDITION_EXPR_END + 
    CONDITION_FIELD + CONDITION_GY + CONDITION_BANISH + "]+"

//Numbers are gathered together as a single literal value. They also mean that other tokens may not start with numbers.
//lower case for literal, capital for production rule.
//Note grammar does not have the unification resulting in: ID, card_name, or scenario_name; though is coded with the result.
START -> DECK SPECIAL_ABILITIES PROBABILITY .

DECK -> DECK_START SENTINEL_START DECKLIST SENTINEL_END.
DECK_START -> decklist: .
DECKLIST -> CARD MORE_CARDS .
MORE_CARDS -> CARD MORE_CARDS | .
CARD -> CARD_NAME SEMI_COLON .
CARD_NAME -> id .

SPECIAL_ABILITIES -> SPECIAL_ABILITY_START SENTINEL_START SPECIAL_ABILITY_LIST SENTINEL_END | .
SPECIAL_ABILITY_START -> special abilities: .
SPECIAL_ABILITY_LIST -> SPECIAL_ABILITY MORE_SPECIAL_ABILITIES .
MORE_SPECIAL_ABILITIES -> SPECIAL_ABILITY MORE_SPECIAL_ABILITIES | .
SPECIAL_ABILITY -> CARD_NAME ASSIGN SENTINEL_START SPECIAL_ABILITY_BODY ACTIVATION_LIMITATION SENTINEL_END .

SPECIAL_ABILITY_BODY -> SPECIAL_ABILITY_BODY_START ASSIGN SENTINEL_START SPECIAL_ABILITY_EXPR_START SENTINEL_END SEMI_COLON .
SPECIAL_ABILITY_BODY_START -> special ability .
SPECIAL_ABILITY_EXPR_START -> SPECIAL_ABILITY_EXPR MORE_SPECIAL_ABILITY_EXPRS .
MORE_SPECIAL_ABILITY_EXPRS -> SPECIAL_ABILITY_EXPR MORE_SPECIAL_ABILITY_EXPRS | .
SPECIAL_ABILITY_EXPR -> SPECIAL_ABILITY_ACTION SEMI_COLON .
SPECIAL_ABILITY_ACTION -> DRAW | MILL | REASONING | BANISH .

DRAW -> draw POSITIVE_INTEGER .
MILL -> mill POSITIVE_INTEGER .
BANISH -> banish POSITIVE_INTEGER .
REASONING -> reasoning SENTINEL_START DECKLIST SENTINEL_END .

ACTIVATION_LIMITATION -> ACTIVATION_LIMITATION_START ASSIGN POSITIVE_INTEGER SEMI_COLON | .
ACTIVATION_LIMITATION_START -> uses .

PROBABILITY -> PROBABILITY_START SENTINEL_START SCENARIO_LIST SENTINEL_END .
PROBABILITY_START -> scenarios: .
SCENARIO_LIST -> SCENARIO MORE_SCENARIOS .
MORE_SCENARIOS -> SCENARIO MORE_SCENARIOS | .
SCENARIO -> SCENARIO_NAME ASSIGN SENTINEL_START TREE DISPLAY SENTINEL_END .
SCENARIO_NAME -> id .

TREE -> TREE_START ASSIGN SENTINEL_START EXPR SENTINEL_END SEMI_COLON .
TREE_START -> scenario .

EXPR -> UNARY_EXPR BINARY_EXPR .

UNARY_EXPR -> UNARY_OPERATOR UNARY_EXPR | PRIMARY_EXPR | COMBINATORIC_EXPR .
UNARY_OPERATOR -> not .

COMBINATORIC_EXPR -> COMBINATORIC_OPERATOR SENTINEL_START COMBINATORIC_BODY SENTINEL_END .
COMBINATORIC_OPERATOR -> combinatoric .
COMBINATORIC_BODY -> ATLEAST_2 SEMI_COLON CHOICE CHOICE CHOICE MORE_CHOICES .
MORE_CHOICES -> CHOICE MORE_CHOICES | .
CHOICE -> EXPR SEMI_COLON .

ATLEAST_2 -> 1 DIGIT MULTIPLE_DIGITS | DIGIT_2_9 MULTIPLE_DIGITS .
MULTIPLE_DIGITS -> DIGIT MULTIPLE_DIGITS | .
DIGIT_2_9 -> 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 .
NON_LEADING_ZERO -> 1 | DIGIT_2_9 .
DIGIT -> 0 | NON_LEADING_ZERO .
POSITIVE_INTEGER -> NON_LEADING_ZERO MULTIPLE_DIGITS .

PRIMARY_EXPR -> CONDITION_CARD_START CARD_NAME CONDITION_CARD_END |
                CONDITION_FIELD CARD_NAME CONDITION_FIELD |
                CONDITION_GY CARD_NAME CONDITION_GY |
                CONDITION_BANISH CARD_NAME CONDITION_BANISH |
                CONDITION_SCENARIO_START SCENARIO_NAME CONDITION_SCENARIO_END |
                CONDITION_EXPR_START EXPR CONDITION_EXPR_END .

CONDITION_CARD_START -> open_bracket .
CONDITION_CARD_END -> close_bracket .
CONDITION_SCENARIO_START -> less_then .
CONDITION_SCENARIO_END -> greater_then .
CONDITION_EXPR_START -> open_parenthesis .
CONDITION_EXPR_END -> close_parenthesis .
CONDITION_FIELD -> * .
CONDITION_GY -> _ .
CONDITION_BANISH -> ~ .

BINARY_EXPR -> BINARY_OPERATOR UNARY_EXPR BINARY_EXPR | .
BINARY_OPERATOR -> and | or | xor .

DISPLAY -> DISPLAY_START ASSIGN DISPLAY_VALUE SEMI_COLON | .
DISPLAY_START -> display .
DISPLAY_VALUE -> true | false .

SENTINEL_START -> open_brace .
SENTINEL_END -> close_brace .
ASSIGN -> assign .
SEMI_COLON -> ; .

https://smlweb.cpsc.ucalgary.ca/vital-stats.php?grammar=START+-%3E+DECK+SPECIAL_ABILITIES+PROBABILITY+.%0D%0A%0D%0ADECK+-%3E+DECK_START+SENTINEL_START+DECKLIST+SENTINEL_END.%0D%0ADECK_START+-%3E+decklist%3A+.%0D%0ADECKLIST+-%3E+CARD+MORE_CARDS+.%0D%0AMORE_CARDS+-%3E+CARD+MORE_CARDS+%7C+.%0D%0ACARD+-%3E+CARD_NAME+SEMI_COLON+.%0D%0ACARD_NAME+-%3E+id+.%0D%0A%0D%0ASPECIAL_ABILITIES+-%3E+SPECIAL_ABILITY_START+SENTINEL_START+SPECIAL_ABILITY_LIST+SENTINEL_END+%7C+.%0D%0ASPECIAL_ABILITY_START+-%3E+special+abilities%3A+.%0D%0ASPECIAL_ABILITY_LIST+-%3E+SPECIAL_ABILITY+MORE_SPECIAL_ABILITIES+.%0D%0AMORE_SPECIAL_ABILITIES+-%3E+SPECIAL_ABILITY+MORE_SPECIAL_ABILITIES+%7C+.%0D%0ASPECIAL_ABILITY+-%3E+CARD_NAME+ASSIGN+SENTINEL_START+SPECIAL_ABILITY_BODY+ACTIVATION_LIMITATION+SENTINEL_END+.%0D%0A%0D%0ASPECIAL_ABILITY_BODY+-%3E+SPECIAL_ABILITY_BODY_START+ASSIGN+SENTINEL_START+SPECIAL_ABILITY_EXPR_START+SENTINEL_END+SEMI_COLON+.%0D%0ASPECIAL_ABILITY_BODY_START+-%3E+special+ability+.%0D%0ASPECIAL_ABILITY_EXPR_START+-%3E+SPECIAL_ABILITY_EXPR+MORE_SPECIAL_ABILITY_EXPRS+.%0D%0AMORE_SPECIAL_ABILITY_EXPRS+-%3E+SPECIAL_ABILITY_EXPR+MORE_SPECIAL_ABILITY_EXPRS+%7C+.%0D%0ASPECIAL_ABILITY_EXPR+-%3E+SPECIAL_ABILITY_ACTION+SEMI_COLON+.%0D%0ASPECIAL_ABILITY_ACTION+-%3E+DRAW+%7C+MILL+%7C+REASONING+%7C+BANISH.%0D%0A%0D%0ADRAW+-%3E+draw+POSITIVE_INTEGER+.%0D%0AMILL+-%3E+mill+POSITIVE_INTEGER+.%0D%0ABANISH+-%3E+banish+POSITIVE_INTEGER+.%0D%0AREASONING+-%3E+reasoning+SENTINEL_START+DECKLIST+SENTINEL_END+.%0D%0A%0D%0AACTIVATION_LIMITATION+-%3E+ACTIVATION_LIMITATION_START+ASSIGN+POSITIVE_INTEGER+SEMI_COLON+%7C+.%0D%0AACTIVATION_LIMITATION_START+-%3E+uses+.%0D%0A%0D%0APROBABILITY+-%3E+PROBABILITY_START+SENTINEL_START+SCENARIO_LIST+SENTINEL_END+.%0D%0APROBABILITY_START+-%3E+scenarios%3A+.%0D%0ASCENARIO_LIST+-%3E+SCENARIO+MORE_SCENARIOS+.%0D%0AMORE_SCENARIOS+-%3E+SCENARIO+MORE_SCENARIOS+%7C+.%0D%0ASCENARIO+-%3E+SCENARIO_NAME+ASSIGN+SENTINEL_START+TREE+DISPLAY+SENTINEL_END+.%0D%0ASCENARIO_NAME+-%3E+id+.%0D%0A%0D%0ATREE+-%3E+TREE_START+ASSIGN+SENTINEL_START+EXPR+SENTINEL_END+SEMI_COLON+.%0D%0ATREE_START+-%3E+scenario+.%0D%0A%0D%0AEXPR+-%3E+UNARY_EXPR+BINARY_EXPR+.%0D%0A%0D%0AUNARY_EXPR+-%3E+UNARY_OPERATOR+UNARY_EXPR+%7C+PRIMARY_EXPR+%7C+COMBINATORIC_EXPR+.%0D%0AUNARY_OPERATOR+-%3E+not+.%0D%0A%0D%0ACOMBINATORIC_EXPR+-%3E+COMBINATORIC_OPERATOR+SENTINEL_START+COMBINATORIC_BODY+SENTINEL_END+.%0D%0ACOMBINATORIC_OPERATOR+-%3E+combinatoric+.%0D%0ACOMBINATORIC_BODY+-%3E+ATLEAST_2+SEMI_COLON+CHOICE+CHOICE+CHOICE+MORE_CHOICES+.%0D%0AMORE_CHOICES+-%3E+CHOICE+MORE_CHOICES+%7C+.%0D%0ACHOICE+-%3E+EXPR+SEMI_COLON+.%0D%0A%0D%0AATLEAST_2+-%3E+1+DIGIT+MULTIPLE_DIGITS+%7C+DIGIT_2_9+MULTIPLE_DIGITS+.%0D%0AMULTIPLE_DIGITS+-%3E+DIGIT+MULTIPLE_DIGITS+%7C+.%0D%0ADIGIT_2_9+-%3E+2+%7C+3+%7C+4+%7C+5+%7C+6+%7C+7+%7C+8+%7C+9+.%0D%0ANON_LEADING_ZERO+-%3E+1+%7C+DIGIT_2_9+.%0D%0ADIGIT+-%3E+0+%7C+NON_LEADING_ZERO+.%0D%0APOSITIVE_INTEGER+-%3E+NON_LEADING_ZERO+MULTIPLE_DIGITS+.%0D%0A%0D%0APRIMARY_EXPR+-%3E+CONDITION_CARD_START+CARD_NAME+CONDITION_CARD_END+%7C%0D%0A++++++++++++++++CONDITION_FIELD+CARD_NAME+CONDITION_FIELD+%7C%0D%0A++++++++++++++++CONDITION_GY+CARD_NAME+CONDITION_GY+%7C%0D%0A++++++++++++++++CONDITION_BANISH+CARD_NAME+CONDITION_BANISH+%7C%0D%0A++++++++++++++++CONDITION_SCENARIO_START+SCENARIO_NAME+CONDITION_SCENARIO_END+%7C%0D%0A++++++++++++++++CONDITION_EXPR_START+EXPR+CONDITION_EXPR_END+.%0D%0A%0D%0ACONDITION_CARD_START+-%3E+open_bracket+.%0D%0ACONDITION_CARD_END+-%3E+close_bracket+.%0D%0ACONDITION_SCENARIO_START+-%3E+less_then+.%0D%0ACONDITION_SCENARIO_END+-%3E+greater_then+.%0D%0ACONDITION_EXPR_START+-%3E+open_parenthesis+.%0D%0ACONDITION_EXPR_END+-%3E+close_parenthesis+.%0D%0ACONDITION_FIELD+-%3E+*+.%0D%0ACONDITION_GY+-%3E+_+.%0D%0ACONDITION_BANISH+-%3E+%7E+.%0D%0A%0D%0ABINARY_EXPR+-%3E+BINARY_OPERATOR+UNARY_EXPR+BINARY_EXPR+%7C+.%0D%0ABINARY_OPERATOR+-%3E+and+%7C+or+%7C+xor+.%0D%0A%0D%0ADISPLAY+-%3E+DISPLAY_START+ASSIGN+DISPLAY_VALUE+SEMI_COLON+%7C+.%0D%0ADISPLAY_START+-%3E+display+.%0D%0ADISPLAY_VALUE+-%3E+true+%7C+false+.%0D%0A%0D%0ASENTINEL_START+-%3E+open_brace+.%0D%0ASENTINEL_END+-%3E+close_brace+.%0D%0AASSIGN+-%3E+assign+.%0D%0ASEMI_COLON+-%3E+%3B.
